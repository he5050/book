---
date: 2025-09-09 10:18:07
title: liquid-glass-react 玻璃效果库
permalink: /notes/动画库/liquid-glass-react
categories:
  - 笔记
tags:
  - 动画库
  - liquid-glass-react
  - 玻璃效果
---

# liquid-glass-react 玻璃效果库

liquid-glass-react 是一个用于 React 的库，可以创建类似 Apple Liquid Glass 效果的组件。它使用先进的 CSS 技术和 GPU 加速动画来创建沉浸式的玻璃效果，具有实时渲染和镜面高光等功能。

## 核心特性

- **Apple 设计灵感**: 基于 Apple 的 Liquid Glass 设计语言
- **实时渲染**: 使用 GPU 加速的 backdrop-filter 效果
- **镜面高光**: 响应用户交互的动态高光效果
- **流体动画**: 仿 Apple 的缓动曲线和基于物理的运动
- **性能优化**: 60fps 动画和电池友好的渲染
- **响应式设计**: 在所有设备上完美显示
- **无障碍支持**: 支持屏幕阅读器和键盘导航

## 安装

```bash
npm install liquid-glass-react
# 或
yarn add liquid-glass-react
```

## 基础用法

### 基础玻璃卡片示例

<demo react="react/Animate/LiquidGlass/index.tsx" :reactFiles='["react/Animate/LiquidGlass/index.tsx"]' />

**核心概念**：

- `LiquidGlass`: 主要的玻璃效果组件
- `displacementScale`: 控制位移效果的强度
- `blurAmount`: 控制模糊/霜化级别
- `elasticity`: 控制"液态"弹性感觉

### 按钮示例

<demo react="react/Animate/LiquidGlass/button.tsx" :reactFiles='["react/Animate/LiquidGlass/button.tsx"]' />

## 核心 API

### LiquidGlass 组件

```jsx
import LiquidGlass from 'liquid-glass-react';

// 基础用法
<LiquidGlass>
	<div className="p-6">
		<h2>你的内容</h2>
		<p>这将具有液态玻璃效果</p>
	</div>
</LiquidGlass>;
```

### 组件属性

#### 视觉效果属性

- `displacementScale` (number): 控制位移效果的强度，默认为 70
- `blurAmount` (number): 控制模糊/霜化级别，默认为 0.0625
- `saturation` (number): 控制玻璃效果的颜色饱和度，默认为 140
- `aberrationIntensity` (number): 控制色差强度，默认为 2
- `elasticity` (number): 控制"液态"弹性感觉 (0 = 刚性, 更高 = 更有弹性)，默认为 0.15
- `cornerRadius` (number): 边框圆角半径（像素），默认为 999

#### 布局属性

- `className` (string): 附加的 CSS 类
- `padding` (string): CSS padding 值
- `style` (React.CSSProperties): 附加的内联样式

#### 交互属性

- `onClick` (() => void): 点击处理函数
- `mouseContainer` (React.RefObject): 鼠标移动跟踪的容器元素
- `mode` ("standard" | "polar" | "prominent" | "shader"): 折射模式
- `overLight` (boolean): 玻璃是否在浅色背景上

### 高级用法

#### 鼠标容器示例

当您希望玻璃效果响应较大区域（如父容器）上的鼠标移动时，使用 mouseContainer 属性：

```jsx
function App() {
	const containerRef = useRef < HTMLDivElement > null;

	return (
		<div ref={containerRef} className="w-full h-screen bg-image">
			<LiquidGlass
				mouseContainer={containerRef}
				elasticity={0.3}
				style={{ position: 'fixed', top: '50%', left: '50%' }}
			>
				<div className="p-6">
					<h2>玻璃效果响应容器内的鼠标移动</h2>
				</div>
			</LiquidGlass>
		</div>
	);
}
```

#### 手动控制示例

```jsx
import { useRef } from 'react';
import LiquidGlass from 'liquid-glass-react';

function ManualControlExample() {
	const glassRef = useRef();

	const handleMouseMove = e => {
		if (glassRef.current) {
			// 手动更新玻璃效果
			glassRef.current.updateEffect({
				x: e.clientX,
				y: e.clientY
			});
		}
	};

	return (
		<div onMouseMove={handleMouseMove}>
			<LiquidGlass ref={glassRef}>
				<div className="p-6">
					<h2>手动控制玻璃效果</h2>
				</div>
			</LiquidGlass>
		</div>
	);
}
```

## 实用技巧

### 性能优化

1. **避免频繁重渲染**: 使用 useMemo 和 useCallback 优化组件
2. **合理使用 props**: 避免在动画过程中频繁更新 props
3. **使用 shouldComponentUpdate**: 在类组件中控制更新
4. **懒加载**: 对于不在视口中的组件使用懒加载

### 自定义样式

```scss
.custom-liquid-glass {
	// 自定义玻璃效果的样式
	backdrop-filter: blur(20px) saturate(180%);

	// 自定义内容样式
	.content {
		color: white;
		text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
	}

	// 悬停效果
	&:hover {
		backdrop-filter: blur(25px) saturate(200%);
	}
}
```

## 最佳实践

### 设计原则

1. **清晰度**: 使用透明度和清晰的排版
2. **服从性**: UI 应适应内容，而不是与之竞争
3. **深度**: 分层界面创建空间理解

### 用户体验

1. **适当的模糊度**: 不要过度模糊影响可读性
2. **合理的动画时长**: 通常 0.2-0.5 秒比较合适
3. **对比度**: 确保文本在玻璃背景上有足够的对比度
4. **响应式设计**: 在不同屏幕尺寸上保持良好的视觉效果

### 代码组织

1. **组件封装**: 将玻璃效果组件封装为可复用组件
2. **样式分离**: 将样式与逻辑分离
3. **类型安全**: 充分利用 TypeScript 类型
4. **文档注释**: 为组件添加清晰的文档注释

## 常见应用场景

### 卡片组件

```jsx
<LiquidGlass displacementScale={60} blurAmount={0.1} className="glass-card">
	<div className="p-6">
		<h3>玻璃卡片</h3>
		<p>这是一个具有玻璃效果的卡片组件</p>
	</div>
</LiquidGlass>
```

### 按钮组件

```jsx
<LiquidGlass
	displacementScale={64}
	blurAmount={0.1}
	saturation={130}
	aberrationIntensity={2}
	elasticity={0.35}
	cornerRadius={100}
	padding="8px 16px"
	onClick={() => console.log('按钮被点击！')}
>
	<span className="text-white font-medium">点击我</span>
</LiquidGlass>
```

### 导航栏

```jsx
<LiquidGlass className="glass-navbar" blurAmount={0.05} displacementScale={40}>
	<nav className="flex justify-between items-center p-4">
		<div className="logo">Logo</div>
		<ul className="flex space-x-6">
			<li>
				<a href="#">首页</a>
			</li>
			<li>
				<a href="#">关于</a>
			</li>
			<li>
				<a href="#">联系</a>
			</li>
		</ul>
	</nav>
</LiquidGlass>
```

## 调试技巧

### 开发工具

1. **浏览器开发者工具**: 检查 CSS 属性和动画效果
2. **性能面板**: 分析动画性能
3. **移动端调试**: 使用 Chrome DevTools 调试移动设备

### 常见问题

1. **效果不显示**: 检查浏览器兼容性和 CSS 属性支持
2. **性能问题**: 减少同时显示的玻璃组件数量
3. **布局问题**: 确保容器有正确的定位和尺寸

## 学习资源

- **官方文档**: https://liquidglassui.org/
- **GitHub 仓库**: https://github.com/rdev/liquid-glass-react
- **示例集合**: 在 CodeSandbox 上查看示例项目

---

_liquid-glass-react 让创建 Apple 风格的玻璃效果变得简单而强大，通过合理使用可以创造出令人印象深刻的用户体验。_
