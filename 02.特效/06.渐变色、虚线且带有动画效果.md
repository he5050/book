---
title: æ¸å˜è‰²ã€è™šçº¿åŠ¨ç”»è¾¹æ¡†
date: 2025-07-14 16:22:00
permalink: /notes/svg-border
categories:
  - ç¬”è®°
tags:
  - css
  - svg
  - åŠ¨ç”»
---

# SVG æ¸å˜è‰²è™šçº¿åŠ¨ç”»è¾¹æ¡†å®ç°

æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ SVG æŠ€æœ¯å®ç°å…·æœ‰æ¸å˜è‰²ã€è™šçº¿æ ·å¼ä¸”å¸¦æœ‰åŠ¨ç”»æ•ˆæœçš„è¾¹æ¡†ç»„ä»¶ï¼Œæ”¯æŒå®¹å™¨æ‹–æ‹½ç¼©æ”¾ç­‰äº¤äº’åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **æ¸å˜è‰²æè¾¹**: æ”¯æŒçº¿æ€§å’Œå¾„å‘æ¸å˜æ•ˆæœ
- **è™šçº¿è¾¹æ¡†**: å¯è‡ªå®šä¹‰è™šçº¿æ ·å¼å’Œé—´è·
- **åŠ¨ç”»æ•ˆæœ**: æµåŠ¨çš„è¾¹æ¡†åŠ¨ç”»ï¼Œå¢å¼ºè§†è§‰æ•ˆæœ
- **äº¤äº’æ”¯æŒ**: å®¹å™¨æ”¯æŒæ‹–æ‹½å’Œç¼©æ”¾æ“ä½œ
- **å“åº”å¼è®¾è®¡**: è‡ªé€‚åº”ä¸åŒå°ºå¯¸çš„å®¹å™¨

### æŠ€æœ¯ä¼˜åŠ¿

- **çŸ¢é‡å›¾å½¢**: SVG ç¡®ä¿åœ¨ä»»ä½•åˆ†è¾¨ç‡ä¸‹éƒ½æ¸…æ™°æ˜¾ç¤º
- **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨ CSS åŠ¨ç”»ï¼Œç¡¬ä»¶åŠ é€Ÿæ”¯æŒ
- **çµæ´»é…ç½®**: æ”¯æŒå¤šç§æ ·å¼å‚æ•°è‡ªå®šä¹‰
- **å…¼å®¹æ€§å¥½**: ç°ä»£æµè§ˆå™¨å¹¿æ³›æ”¯æŒ

## ğŸ“ å·¥ä½œåŸç†

```mermaid
graph TD
    A[SVG æ¸å˜è™šçº¿è¾¹æ¡†] --> B[SVG åŸºç¡€ç»“æ„]
    A --> C[åŠ¨ç”»å®ç°]
    A --> D[äº¤äº’åŠŸèƒ½]

    B --> B1[defs å®šä¹‰æ¸å˜]
    B --> B2[rect è¾¹æ¡†è·¯å¾„]
    B --> B3[stroke å±æ€§è®¾ç½®]

    C --> C1[è™šçº¿æµåŠ¨åŠ¨ç”»]
    C --> C2[æ¸å˜æ—‹è½¬åŠ¨ç”»]
    C --> C3[CSS åŠ¨ç”»æ§åˆ¶]

    D --> D1[æ‹–æ‹½åŠŸèƒ½]
    D --> D2[ç¼©æ”¾åŠŸèƒ½]
    D --> D3[å“åº”å¼é€‚é…]
```

## ğŸ’» å®ç°æ¼”ç¤º

<demo react="react/Animate/SvgBorder/index.tsx" 
:reactFiles="['react/Animate/SvgBorder/index.tsx']" 
/>

## ğŸ› ï¸ æ ¸å¿ƒå®ç°åŸç†

### SVG åŸºç¡€ç»“æ„

```html
<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
	<defs>
		<!-- å®šä¹‰æ¸å˜è‰² -->
		<linearGradient id="borderGradient" x1="0%" y1="0%" x2="100%" y2="0%">
			<stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
			<stop offset="50%" style="stop-color:#4ecdc4;stop-opacity:1" />
			<stop offset="100%" style="stop-color:#45b7d1;stop-opacity:1" />
		</linearGradient>
	</defs>

	<!-- è¾¹æ¡†è·¯å¾„ -->
	<rect
		x="2"
		y="2"
		width="calc(100% - 4px)"
		height="calc(100% - 4px)"
		fill="none"
		stroke="url(#borderGradient)"
		stroke-width="4"
		stroke-dasharray="10,5"
		stroke-dashoffset="0"
	/>
</svg>
```

### åŠ¨ç”»å®ç°

```css
/* è™šçº¿æµåŠ¨åŠ¨ç”» */
@keyframes dash-flow {
	0% {
		stroke-dashoffset: 0;
	}
	100% {
		stroke-dashoffset: -30; /* è´Ÿå€¼è¡¨ç¤ºå‘å‰æµåŠ¨ */
	}
}

.animated-border {
	animation: dash-flow 2s linear infinite;
}

/* æ¸å˜è‰²æ—‹è½¬åŠ¨ç”» */
@keyframes gradient-rotate {
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}
```

### React ç»„ä»¶å®ç°

```typescript
interface AnimatedBorderProps {
	width?: number;
	height?: number;
	strokeWidth?: number;
	dashArray?: string;
	animationDuration?: number;
	gradientColors?: string[];
	children?: React.ReactNode;
}

const AnimatedBorder: React.FC<AnimatedBorderProps> = ({
	width = 300,
	height = 200,
	strokeWidth = 4,
	dashArray = '10,5',
	animationDuration = 2,
	gradientColors = ['#ff6b6b', '#4ecdc4', '#45b7d1'],
	children
}) => {
	const gradientId = `gradient-${Math.random().toString(36).substr(2, 9)}`;

	return (
		<div className="animated-border-container" style={{ width, height }}>
			<svg
				width="100%"
				height="100%"
				className="border-svg"
				style={{
					position: 'absolute',
					top: 0,
					left: 0,
					pointerEvents: 'none'
				}}
			>
				<defs>
					<linearGradient id={gradientId} x1="0%" y1="0%" x2="100%" y2="0%">
						{gradientColors.map((color, index) => (
							<stop
								key={index}
								offset={`${(index / (gradientColors.length - 1)) * 100}%`}
								stopColor={color}
								stopOpacity="1"
							/>
						))}
					</linearGradient>
				</defs>

				<rect
					x={strokeWidth / 2}
					y={strokeWidth / 2}
					width={`calc(100% - ${strokeWidth}px)`}
					height={`calc(100% - ${strokeWidth}px)`}
					fill="none"
					stroke={`url(#${gradientId})`}
					strokeWidth={strokeWidth}
					strokeDasharray={dashArray}
					className="animated-stroke"
					style={{
						animation: `dash-flow ${animationDuration}s linear infinite`
					}}
				/>
			</svg>

			<div className="border-content">{children}</div>
		</div>
	);
};
```

## ğŸ¨ é«˜çº§åŠŸèƒ½

### å¤šç§è¾¹æ¡†æ ·å¼

```typescript
// åœ†è§’è¾¹æ¡†
const RoundedBorder = () => (
	<rect
		rx="20"
		ry="20"
		// ... å…¶ä»–å±æ€§
	/>
);

// æ¤­åœ†è¾¹æ¡†
const EllipseBorder = () => (
	<ellipse
		cx="50%"
		cy="50%"
		rx="45%"
		ry="40%"
		// ... å…¶ä»–å±æ€§
	/>
);

// è‡ªå®šä¹‰è·¯å¾„è¾¹æ¡†
const CustomPathBorder = () => (
	<path
		d="M20,20 Q50,5 80,20 T140,20 L140,80 Q125,95 110,80 T50,80 Z"
		// ... å…¶ä»–å±æ€§
	/>
);
```

### äº¤äº’åŠŸèƒ½å®ç°

```typescript
const InteractiveBorder = () => {
	const [isHovered, setIsHovered] = useState(false);
	const [isDragging, setIsDragging] = useState(false);
	const [position, setPosition] = useState({ x: 0, y: 0 });

	const handleMouseDown = (e: React.MouseEvent) => {
		setIsDragging(true);
		// æ‹–æ‹½é€»è¾‘
	};

	const handleMouseMove = (e: React.MouseEvent) => {
		if (isDragging) {
			setPosition({
				x: e.clientX - startPos.x,
				y: e.clientY - startPos.y
			});
		}
	};

	return (
		<div
			className={`interactive-border ${isHovered ? 'hovered' : ''}`}
			onMouseEnter={() => setIsHovered(true)}
			onMouseLeave={() => setIsHovered(false)}
			onMouseDown={handleMouseDown}
			onMouseMove={handleMouseMove}
			style={{
				transform: `translate(${position.x}px, ${position.y}px)`,
				transition: isDragging ? 'none' : 'transform 0.3s ease'
			}}
		>
			{/* SVG è¾¹æ¡†å†…å®¹ */}
		</div>
	);
};
```

### ç¼©æ”¾åŠŸèƒ½

```typescript
const ScalableBorder = () => {
	const [scale, setScale] = useState(1);

	const handleWheel = (e: React.WheelEvent) => {
		e.preventDefault();
		const delta = e.deltaY > 0 ? 0.9 : 1.1;
		setScale(prev => Math.max(0.5, Math.min(2, prev * delta)));
	};

	return (
		<div
			onWheel={handleWheel}
			style={{
				transform: `scale(${scale})`,
				transformOrigin: 'center',
				transition: 'transform 0.2s ease'
			}}
		>
			{/* è¾¹æ¡†å†…å®¹ */}
		</div>
	);
};
```

## ğŸ“Š æ€§èƒ½åˆ†æ

```mermaid
graph LR
    A[æ€§èƒ½ä¼˜åŒ–ç­–ç•¥] --> B[åŠ¨ç”»ä¼˜åŒ–]
    A --> C[å†…å­˜ç®¡ç†]
    A --> D[æ¸²æŸ“ä¼˜åŒ–]

    B --> B1[ä½¿ç”¨CSSåŠ¨ç”»]
    B --> B2[ç¡¬ä»¶åŠ é€Ÿ]
    B --> B3[é¿å…é¢‘ç¹é‡ç»˜]

    C --> C1[æ¸…ç†å®šæ—¶å™¨]
    C --> C2[å–æ¶ˆåŠ¨ç”»å¸§]
    C --> C3[ç»„ä»¶å¸è½½æ¸…ç†]

    D --> D1[React.memoä¼˜åŒ–]
    D --> D2[useMemoç¼“å­˜]
    D --> D3[è™šæ‹ŸåŒ–æ¸²æŸ“]
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. åŠ¨ç”»ä¼˜åŒ–

```css
/* ä½¿ç”¨ transform è€Œä¸æ˜¯æ”¹å˜ stroke-dashoffset */
.optimized-animation {
	will-change: transform;
	transform: translateX(0);
	animation: slide-dash 2s linear infinite;
}

@keyframes slide-dash {
	0% {
		transform: translateX(0);
	}
	100% {
		transform: translateX(-30px);
	}
}
```

### 2. å†…å­˜ç®¡ç†

```typescript
const useAnimatedBorder = () => {
	const animationRef = useRef<number>();

	useEffect(() => {
		return () => {
			if (animationRef.current) {
				cancelAnimationFrame(animationRef.current);
			}
		};
	}, []);

	const startAnimation = useCallback(() => {
		// åŠ¨ç”»é€»è¾‘
	}, []);

	return { startAnimation };
};
```

### 3. æ¸²æŸ“ä¼˜åŒ–

```typescript
const MemoizedBorder = React.memo(AnimatedBorder, (prevProps, nextProps) => {
	return (
		prevProps.width === nextProps.width &&
		prevProps.height === nextProps.height &&
		prevProps.gradientColors.join(',') === nextProps.gradientColors.join(',')
	);
});
```

## ğŸ› ï¸ æŠ€æœ¯è¦ç‚¹

### 1. SVG æ¸å˜å®ç°

- ä½¿ç”¨ `<defs>` å’Œ `<linearGradient>` å®šä¹‰æ¸å˜
- é€šè¿‡ `stop` å…ƒç´ æ§åˆ¶é¢œè‰²åˆ†å¸ƒ
- ä½¿ç”¨ `url(#gradientId)` åº”ç”¨æ¸å˜åˆ°æè¾¹

### 2. è™šçº¿åŠ¨ç”»åŸç†

- `stroke-dasharray` å®šä¹‰è™šçº¿æ¨¡å¼
- `stroke-dashoffset` æ§åˆ¶è™šçº¿åç§»é‡
- é€šè¿‡ CSS åŠ¨ç”»æ”¹å˜ `stroke-dashoffset` å®ç°æµåŠ¨æ•ˆæœ

### 3. å“åº”å¼è®¾è®¡

- ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½ç¡®ä¿è‡ªé€‚åº”
- é€šè¿‡ `calc()` å‡½æ•°ç²¾ç¡®è®¡ç®—è¾¹æ¡†ä½ç½®
- åˆ©ç”¨ `viewBox` å±æ€§ä¿æŒæ¯”ä¾‹

## åº”ç”¨åœºæ™¯

### 1. å¡ç‰‡ç»„ä»¶å¢å¼º

```typescript
const EnhancedCard = ({ children, isActive }) => (
	<AnimatedBorder
		gradientColors={isActive ? ['#ff6b6b', '#4ecdc4'] : ['#ccc', '#999']}
		animationDuration={isActive ? 1.5 : 0}
	>
		<div className="card-content">{children}</div>
	</AnimatedBorder>
);
```

### 2. æŒ‰é’®ç‰¹æ•ˆ

```typescript
const AnimatedButton = ({ children, onClick }) => (
	<AnimatedBorder width={120} height={40} strokeWidth={2} dashArray="5,3">
		<button onClick={onClick} className="animated-btn">
			{children}
		</button>
	</AnimatedBorder>
);
```

### 3. åŠ è½½çŠ¶æ€æŒ‡ç¤º

```typescript
const LoadingBorder = ({ isLoading }) => (
	<AnimatedBorder
		gradientColors={['#3498db', '#2ecc71', '#3498db']}
		animationDuration={isLoading ? 1 : 0}
		dashArray="8,4"
	>
		<div className="loading-content">{isLoading ? 'åŠ è½½ä¸­...' : 'åŠ è½½å®Œæˆ'}</div>
	</AnimatedBorder>
);
```

## ğŸ§ª æ•…éšœæ’é™¤

### 1. åŠ¨ç”»å¡é¡¿

**é—®é¢˜**: åŠ¨ç”»åœ¨æŸäº›è®¾å¤‡ä¸Šå‡ºç°å¡é¡¿
**è§£å†³æ–¹æ¡ˆ**:

- ä½¿ç”¨ CSS åŠ¨ç”»æ›¿ä»£ JavaScript åŠ¨ç”»
- å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ: `transform: translateZ(0)`
- å‡å°‘åŠ¨ç”»å¤æ‚åº¦å’Œé¢‘ç‡

### 2. æ¸å˜æ˜¾ç¤ºå¼‚å¸¸

**é—®é¢˜**: æ¸å˜åœ¨ä¸åŒæµè§ˆå™¨ä¸­æ˜¾ç¤ºä¸ä¸€è‡´
**è§£å†³æ–¹æ¡ˆ**:

- æ·»åŠ æµè§ˆå™¨å‰ç¼€
- ä½¿ç”¨æ ‡å‡†çš„ SVG æ¸å˜è¯­æ³•
- æµ‹è¯•ä¸»æµæµè§ˆå™¨å…¼å®¹æ€§

### 3. å“åº”å¼é€‚é…é—®é¢˜

**é—®é¢˜**: åœ¨å°å±å¹•è®¾å¤‡ä¸Šè¾¹æ¡†æ˜¾ç¤ºå¼‚å¸¸
**è§£å†³æ–¹æ¡ˆ**:

- ä½¿ç”¨åª’ä½“æŸ¥è¯¢è°ƒæ•´è¾¹æ¡†å®½åº¦
- è®¾ç½®æœ€å°å°ºå¯¸é™åˆ¶
- ä¼˜åŒ–è™šçº¿æ¨¡å¼åœ¨å°å°ºå¯¸ä¸‹çš„æ˜¾ç¤º

## æœ€ä½³å®è·µ

### è®¾è®¡åŸåˆ™

1. **é€‚åº¦ä½¿ç”¨**: é¿å…è¿‡åº¦çš„åŠ¨ç”»æ•ˆæœå½±å“ç”¨æˆ·ä½“éªŒ
2. **æ€§èƒ½ä¼˜å…ˆ**: ä½¿ç”¨ CSS åŠ¨ç”»è€Œé JavaScript åŠ¨ç”»
3. **å¯è®¿é—®æ€§**: æä¾›ç¦ç”¨åŠ¨ç”»çš„é€‰é¡¹
4. **å“åº”å¼**: ç¡®ä¿åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½æœ‰è‰¯å¥½è¡¨ç°

### å®æ–½å»ºè®®

1. **æ¸è¿›å¢å¼º**: ä»é™æ€è¾¹æ¡†å¼€å§‹ï¼Œé€æ­¥æ·»åŠ åŠ¨ç”»æ•ˆæœ
2. **ç”¨æˆ·æ§åˆ¶**: å…è®¸ç”¨æˆ·æ§åˆ¶åŠ¨ç”»çš„å¼€å¯å’Œå…³é—­
3. **æ€§èƒ½ç›‘æ§**: ç›‘æ§åŠ¨ç”»å¯¹é¡µé¢æ€§èƒ½çš„å½±å“
4. **å…¼å®¹æ€§æµ‹è¯•**: åœ¨ä¸åŒæµè§ˆå™¨ä¸­æµ‹è¯•æ•ˆæœ

---

_SVG åŠ¨ç”»è¾¹æ¡†æ˜¯ç°ä»£ç½‘é¡µè®¾è®¡ä¸­çš„äº®ç‚¹åŠŸèƒ½ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒå’Œè§†è§‰æ•ˆæœã€‚_ âœ¨
