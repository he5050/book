---
title: CSS 3D 波浪圆动画效果
date: 2025-01-23 13:00:00
permalink: /effects/css-3d-wave-circle-animation
description: 使用CSS 3D变换和动画实现多层圆环波浪动画效果，创造立体视觉冲击
categories:
  - 特效
tags:
  - CSS
  - 3D动画
  - 波浪效果
  - 圆环动画
  - 视觉特效
---

# CSS 3D 波浪圆动画效果

## 简介

这是一个使用纯CSS实现的3D波浪圆动画效果。通过多个同心圆的3D变换和时间延迟，创造出波浪般的立体动画效果。每个圆环都有独立的动画时序，形成连续的波浪运动，配合3D透视和旋转，营造出强烈的视觉冲击力。

## 效果特点

### 视觉特性

- **3D立体感**: 使用perspective和rotateX创造立体视角
- **波浪运动**: 多层圆环形成连续的波浪动画
- **时间延迟**: 每个圆环有不同的动画延迟时间
- **多层装饰**: 每个圆环包含主体、虚线边框和外发光效果

### 技术特性

- **纯CSS实现**: 无需JavaScript，性能优异
- **CSS变量控制**: 使用--i变量控制每个元素的属性
- **3D变换**: 结合translateZ和rotate实现立体动画
- **伪元素装饰**: 使用::before和::after增加视觉层次

## 工作原理

```mermaid
graph TD
    A[容器设置3D透视] --> B[创建多个同心圆]
    B --> C[设置CSS变量--i]
    C --> D[计算圆环位置]
    C --> E[计算动画延迟]
    
    D --> F[inset: calc(15px * var(--i))]
    E --> G[animation-delay: calc(var(--i) * -0.13s)]
    
    F --> H[圆环大小递减]
    G --> I[时间错位动画]
    
    H --> J[波浪视觉效果]
    I --> J
    
    J --> K[3D动画循环]
    K --> L[translateZ变化]
    K --> M[rotate旋转]
    
    L --> N[前后运动]
    M --> O[圆周旋转]
    
    N --> P[立体波浪效果]
    O --> P
```

## 效果演示

<demo react="react/Wave3DCircleAnimation/index.tsx" 
:reactFiles="['react/Wave3DCircleAnimation/index.tsx','react/Wave3DCircleAnimation/index.scss']" 
/>

## 核心实现原理

### 基础实现方案

**核心思路**：

- 创建多个同心圆，使用CSS变量控制每个圆的大小和动画延迟
- 通过3D变换设置立体视角，使圆环在Z轴上运动
- 结合旋转动画，形成螺旋式的波浪效果
- 使用伪元素添加装饰边框，增强视觉层次

**优点**：

- 纯CSS实现，性能优异
- 视觉效果震撼，立体感强
- 代码简洁，易于理解和修改
- 可扩展性好，支持多种参数调整

**适用场景**：

- 加载动画效果
- 品牌展示页面
- 科技感界面装饰
- 视觉艺术展示

### 核心CSS实现

```css
/* 3D容器设置 */
.loader {
    position: relative;
    width: 450px;
    height: 450px;
    transform-style: preserve-3d;
    transform: perspective(500px) rotateX(60deg);
}

/* 圆环基础样式 */
.loader span {
    position: absolute;
    inset: calc(15px * var(--i));
    border: 15px solid #fff;
    border-radius: 50%;
    animation: animate 4.5s ease-in-out infinite;
    animation-delay: calc(var(--i) * -0.13s);
}

/* 3D动画关键帧 */
@keyframes animate {
    0% {
        transform: translateZ(-150px) rotate(0deg);
    }
    50% {
        transform: translateZ(150px) rotate(180deg);
    }
    100% {
        transform: translateZ(-150px) rotate(360deg);
    }
}
```

### 核心HTML结构

```html
<div class="loader">
    <span style="--i: 0;"></span>
    <span style="--i: 1;"></span>
    <span style="--i: 2;"></span>
    <!-- ... 更多圆环 -->
    <span style="--i: 14;"></span>
</div>
```

## 参数配置选项

| 参数名称 | 类型 | 默认值 | 说明 | 可选值 |
|---------|------|--------|------|--------|
| **circleCount** | number | 15 | 圆环数量 | 5-30 |
| **containerSize** | number | 450 | 容器尺寸(px) | 200-800 |
| **borderWidth** | number | 15 | x) | 5-30 |
| **spacing** | number | 15 | 圆环间距(px) | 10-50 |
| **animationDuration** | number | 4.5 | 动画持续时间(s) | 2-10 |
| **delayStep** | number | 0.13 | 延迟步长(s) | 0.05-0.3 |
| **perspective** | number | 500 | 3D透视距离(px) | 300-1000 |
| **rotateX** | number | 60 | X轴旋转角度(deg) | 30-90 |
| **zDistance** | number | 150 | Z轴运动距离(px) | 50-300 |
| **primaryColor** | string | '#ffffff' | 主圆环颜色 | 任意颜色值 |
| **accentColor** | string | '#21e8a5' | 装饰圆环颜色 | 任意颜色值 |
| **backgroundColor** | string | '#156408' | 背景颜色 | 任意颜色值 |

## 实现方案对比

| 方案 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| **纯CSS 3D** | 性能好，代码简洁 | 效果相对固定 | 装饰性动画 |
| **CSS + JavaScript** | 可控性强，交互丰富 | 复杂度增加 | 交互式效果 |
| **Canvas绘制** | 效果灵活多样 | 性能开销大 | 复杂图形动画 |
| **WebGL/Three.js** | 效果最佳 | 学习成本高 | 3D场景应用 |

## 高级功能

### 功能1：动态配置系统

```typescript
interface Wave3DConfig {
  circleCount: number;
  containerSize: number;
  borderWidth: number;
  spacing: number;
  animationDuration: number;
  delayStep: number;
  perspective: number;
  rotateX: number;
  zDistance: number;
  primaryColor: string;
  accentColor: string;
  backgroundColor: string;
}

const useWave3DConfig = (initialConfig: Wave3DConfig) => {
  const [config, setConfig] = useState(initialConfig);
  
  const updateConfig = (newConfig: Partial<Wave3DConfig>) => {
    setConfig(prev => ({ ...prev, ...newConfig }));
  };
  
  return { config, updateConfig };
};
```

### 功能2：圆环生成器

```typescript
const generateCircles = (count: number) => {
  return Array.from({ length: count }, (_, index) => ({
    id: index,
    cssVariable: `--i: ${index};`,
    delay: index * -0.13,
    inset: index * 15
  }));
};
```

### 功能3：动画控制器

```typescript
const useAnimationControl = () => {
  const [isPlaying, setIsPlaying] = useState(true);
  const [speed, setSpeed] = useState(1);
  
  const toggleAnimation = () => {
    setIsPlaying(!isPlaying);
  };
  
  const changeSpeed = (newSpeed: number) => {
    setSpeed(newSpeed);
  };
  
  return { isPlaying, speed, toggleAnimation, changeSpeed };
};