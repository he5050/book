---
title: 3D旋转相册效果
date: 2025-09-25
permalink: /special-effects/3d-rotating-album
categories:
  - 特效
---

# 3D 旋转相册效果

## 简介

3D 旋转相册效果是一个使用 HTML 和 CSS 实现的视觉效果，通过 CSS 的 3D 变换和动画实现动态旋转展示。该效果创建了一个包含多张卡片的 3D 旋转展示，每张卡片都有独特的边框颜色和图片内容，形成一个引人注目的 3D 旋转相册。

## 效果演示

<demo react="react/effects/ThreeDRotatingAlbum/example.tsx" 
:reactFiles="['react/effects/ThreeDRotatingAlbum/example.tsx', 'react/effects/ThreeDRotatingAlbum/index.tsx','react/effects/ThreeDRotatingAlbum/index.scss']" 
/>

## 实现原理

### HTML 结构

```html
<div class="wrapper">
	<div class="inner" style="--quantity: 10;">
		<div class="card" style="--index: 0;--color-card: 142, 249, 252;">
			<div class="img">
				<img src="image.jpg" alt="" />
			</div>
		</div>
		<!-- 更多卡片... -->
	</div>
</div>
```

HTML 结构包含以下关键元素：

- `.wrapper`：最外层容器，用于包裹整个 3D 效果
- `.inner`：内部容器，包裹所有卡片，设置`--quantity`自定义属性表示卡片总数
- `.card`：单个卡片容器，每个卡片有`--index`属性表示索引，`--color-card`属性表示边框颜色
- `.img`：图片容器，包裹 img 标签

### CSS 样式

```css
.wrapper {
	width: 100%;
	height: 100%;
	position: relative;
	text-align: center;
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: hidden;
}

.inner {
	--w: 150px;
	--h: 200px;
	--translateZ: calc((var(--w) + var(--h)) + 0px);
	--rotateX: -15deg;
	--perspective: 1000px;
	position: absolute;
	width: var(--w);
	height: var(--h);
	top: 25%;
	left: calc(50% - (var(--w) / 2) - 2.5px);
	z-index: 2;
	transform-style: preserve-3d;
	transform: perspective(var(--perspective));
	animation: rotating 20s linear infinite;
}

@keyframes rotating {
	from {
		transform: perspective(var(--perspective)) rotateX(var(--rotateX)) rotateY(0);
	}

	to {
		transform: perspective(var(--perspective)) rotateX(var(--rotateX)) rotateY(1turn);
	}
}

.card {
	position: absolute;
	border: 2px solid rgba(var(--color-card));
	border-radius: 12px;
	overflow: hidden;
	inset: 0;
	transform: rotateY(calc((360deg / var(--quantity)) * var(--index))) translateZ(var(--translateZ));
}

.img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	background: #0000 radial-gradient(circle, rgba(var(--color-card), 0.2) 0%, rgba(
					var(--color-card),
					0.6
				) 80%, rgba(var(--color-card), 0.9) 100%);
}

.img img {
	width: 100%;
	height: 100%;
}
```

## 核心技术点

### 1. CSS 3D 变换

通过`transform-style: preserve-3d`属性保持 3D 空间，使用`rotateY`和`translateZ`实现卡片的 3D 定位：

```css
.card {
	transform: rotateY(calc((360deg / var(--quantity)) * var(--index))) translateZ(var(--translateZ));
}
```

### 2. 关键帧动画

使用`@keyframes`定义旋转动画，实现平滑的 3D 旋转效果：

```css
@keyframes rotating {
	from {
		transform: perspective(var(--perspective)) rotateX(var(--rotateX)) rotateY(0);
	}

	to {
		transform: perspective(var(--perspective)) rotateX(var(--rotateX)) rotateY(1turn);
	}
}
```

### 3. CSS 自定义属性

通过 CSS 自定义属性实现灵活的配置：

```css
.inner {
	--w: 150px;
	--h: 200px;
	--translateZ: calc((var(--w) + var(--h)) + 0px);
	--rotateX: -15deg;
	--perspective: 1000px;
}
```

## React 组件实现

### 核心组件

```tsx
import React from 'react';
import './index.scss';

interface CardProps {
	index: number;
	color: string;
	imageSrc: string;
}

const Card: React.FC<CardProps> = ({ index, color, imageSrc }) => {
	return (
		<div
			className="card"
			style={{ '--index': index, '--color-card': color } as React.CSSProperties}
		>
			<div className="img">
				<img src={imageSrc} alt={`Card ${index}`} />
			</div>
		</div>
	);
};

const ThreeDRotatingAlbum: React.FC = () => {
	// 定义卡片数据
	const cards = [
		{ index: 0, color: '142, 249, 252', imageSrc: 'https://picsum.photos/150/200?random=1' }
		// ...更多卡片数据
	];

	return (
		<div className="wrapper">
			<div className="inner" style={{ '--quantity': cards.length } as React.CSSProperties}>
				{cards.map(card => (
					<Card key={card.index} index={card.index} color={card.color} imageSrc={card.imageSrc} />
				))}
			</div>
		</div>
	);
};

export default ThreeDRotatingAlbum;
```

## 使用说明

### 基本使用

```tsx
import ThreeDRotatingAlbum from './effects/ThreeDRotatingAlbum';

function App() {
	return (
		<div style={{ height: '100vh' }}>
			<ThreeDRotatingAlbum />
		</div>
	);
}
```

### 自定义配置

可以通过修改组件中的卡片数据来自定义相册内容：

```tsx
const cards = [
	{ index: 0, color: '255, 0, 0', imageSrc: 'path/to/image1.jpg' },
	{ index: 1, color: '0, 255, 0', imageSrc: 'path/to/image2.jpg' }
	// ...更多卡片
];
```

## 优化建议

### 1. 性能优化

- 使用`transform3d`启用硬件加速
- 合理设置动画持续时间，避免过度消耗 CPU 资源
- 对于大量卡片，考虑使用虚拟滚动技术

### 2. 响应式设计

```css
@media (max-width: 768px) {
	.inner {
		--w: 100px;
		--h: 150px;
	}
}
```

### 3. 交互增强

可以添加鼠标交互效果：

```css
.inner:hover {
	animation-play-state: paused;
}
```

## 浏览器兼容性

- Chrome 36+
- Firefox 16+
- Safari 9+
- Edge 12+
- IE 10+

## 结语

3D 旋转相册效果通过 CSS 3D 变换和动画技术，创造出引人注目的视觉效果。该效果不仅展示了 CSS 的强大功能，也为网页增添了动态和立体感。通过合理的优化和自定义配置，可以将其应用于各种场景，如产品展示、图片画廊等。
