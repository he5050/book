---
title: åŠ¨æ€åœ†å½¢ç‚¹åŠ¨ç”»æ•ˆæœ
date: 2025-09-29 16:00:00
permalink: /notes/floating-dots-animation
categories:
  - ç¬”è®°
tags:
  - css
  - åŠ¨ç”»
  - 3d
---

# åŠ¨æ€åœ†å½¢ç‚¹åŠ¨ç”»æ•ˆæœ

æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ CSS 3D è½¬æ¢å’Œå…³é”®å¸§åŠ¨ç”»åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªåŠ¨æ€ç§»åŠ¨çš„åœ†å½¢ç‚¹çš„åŠ¨ç”»æ•ˆæœã€‚æ¯ä¸ªç‚¹éƒ½æœ‰è‡ªå·±çš„åŠ¨ç”»ï¼Œå®ƒä»¬åœ¨å®¹å™¨å†…ä¸Šä¸‹ç§»åŠ¨ï¼Œå¹¶åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­æ”¹å˜è‰²ç›¸ï¼Œåˆ›å»ºä¸€ç§åŠ¨æ€çš„è§†è§‰æ•ˆæœã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **3D è§†è§‰æ•ˆæœ**: ä½¿ç”¨ CSS 3D è½¬æ¢åˆ›å»ºç«‹ä½“æ„Ÿ
- **åŠ¨æ€åŠ¨ç”»**: åœ†å½¢ç‚¹åœ¨å®¹å™¨å†…ä¸Šä¸‹ç§»åŠ¨
- **è‰²ç›¸å˜åŒ–**: ç§»åŠ¨è¿‡ç¨‹ä¸­é¢œè‰²æ¸å˜å˜åŒ–
- **å±‚æ¬¡æ„Ÿ**: é€šè¿‡é˜´å½±å’Œé€æ˜åº¦è¥é€ æ·±åº¦æ„Ÿ
- **å“åº”å¼è®¾è®¡**: è‡ªé€‚åº”ä¸åŒå°ºå¯¸çš„å®¹å™¨

### æŠ€æœ¯ä¼˜åŠ¿

- **çº¯ CSS å®ç°**: æ— éœ€é¢å¤–çš„ JavaScript åº“
- **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿçš„ CSS åŠ¨ç”»
- **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰ç‚¹çš„æ•°é‡å’Œæ ·å¼
- **å…¼å®¹æ€§å¥½**: ç°ä»£æµè§ˆå™¨å¹¿æ³›æ”¯æŒ

## ğŸ“ å·¥ä½œåŸç†

```mermaid
graph TD
    A[åŠ¨æ€åœ†å½¢ç‚¹åŠ¨ç”»] --> B[HTML ç»“æ„]
    A --> C[CSS æ ·å¼]
    A --> D[åŠ¨ç”»å®ç°]

    B --> B1[å®¹å™¨å…ƒç´ ]
    B --> B2[ç‚¹å…ƒç´ ]
    B --> B3[è‡ªå®šä¹‰å±æ€§]

    C --> C1[3D è½¬æ¢]
    C --> C2[åœ†å½¢æ ·å¼]
    C --> C3[é˜´å½±æ•ˆæœ]

    D --> D1[å…³é”®å¸§åŠ¨ç”»]
    D --> D2[è‰²ç›¸æ—‹è½¬]
    D --> D3[æ—¶é—´å»¶è¿Ÿ]
```

## ğŸ’» å®ç°æ¼”ç¤º

<demo react="react/effects/FloatingDotsAnimation/index.tsx" 
:reactFiles="['react/effects/FloatingDotsAnimation/index.tsx','react/effects/FloatingDotsAnimation/index.scss']" 
/>

## ğŸ› ï¸ æ ¸å¿ƒå®ç°åŸç†

### HTML ç»“æ„è®¾è®¡

åŠ¨æ€åœ†å½¢ç‚¹åŠ¨ç”»æ•ˆæœçš„æ ¸å¿ƒç»“æ„åŒ…æ‹¬ï¼š

1. **å®¹å™¨å…ƒç´ **: ç”¨äºåŒ…å«æ‰€æœ‰åŠ¨ç”»ç‚¹
2. **ç‚¹å…ƒç´ **: æ¯ä¸ªåœ†å½¢ç‚¹ä½œä¸ºä¸€ä¸ªç‹¬ç«‹å…ƒç´ 
3. **è‡ªå®šä¹‰å±æ€§**: ä½¿ç”¨ CSS å˜é‡æ§åˆ¶æ¯ä¸ªç‚¹çš„æ ·å¼å’ŒåŠ¨ç”»

### æµç¨‹å›¾è¯´æ˜

```mermaid
graph TB
    A[åŠ¨æ€åœ†å½¢ç‚¹ç»„ä»¶] --> B[å¤–å±‚å®¹å™¨]
    A --> C[ç‚¹æ•°ç»„ç”Ÿæˆ]
    B --> D[Flexå¸ƒå±€]
    C --> E[ç‚¹ç»„ä»¶åˆ—è¡¨]
    E --> F[ç‚¹1]
    E --> G[ç‚¹2]
    E --> H[ç‚¹3]
    E --> I[...]

    F --> J[è‡ªå®šä¹‰å±æ€§--i:0]
    G --> K[è‡ªå®šä¹‰å±æ€§--i:1]
    H --> L[è‡ªå®šä¹‰å±æ€§--i:2]

    J --> M[åŠ¨ç”»å»¶è¿Ÿè®¡ç®—]
    K --> N[åŠ¨ç”»å»¶è¿Ÿè®¡ç®—]
    L --> O[åŠ¨ç”»å»¶è¿Ÿè®¡ç®—]

    style B fill:#4ecdc4
    style C fill:#45b7d1
    style E fill:#96ceb4
    style F fill:#feca57
    style G fill:#ff9ff3
    style H fill:#54a0ff
```

### è‡ªå®šä¹‰å‚æ•°é…ç½®

| å‚æ•°                   | ç±»å‹   | é»˜è®¤å€¼             | è¯´æ˜         |
| ---------------------- | ------ | ------------------ | ------------ |
| `dotCount`             | number | 21                 | åœ†å½¢ç‚¹çš„æ•°é‡ |
| `containerWidth`       | string | 500px              | å®¹å™¨å®½åº¦     |
| `animationDuration`    | string | 3s                 | åŠ¨ç”»æŒç»­æ—¶é—´ |
| `animationDelayFactor` | number | 0.08               | åŠ¨ç”»å»¶è¿Ÿå› å­ |
| `borderColor`          | string | rgb(0, 200, 255)   | è¾¹æ¡†é¢œè‰²     |
| `shadowColor`          | string | rgb(124, 124, 124) | é˜´å½±é¢œè‰²     |
| `translateDistance`    | string | -50vmin            | å‚ç›´ç§»åŠ¨è·ç¦» |
| `hueRotation`          | string | 180deg             | è‰²ç›¸æ—‹è½¬è§’åº¦ |

### React ç»„ä»¶å®ç°

```typescript
import React from 'react';
import './index.scss';

interface FloatingDotProps {
	index: number;
}

const FloatingDot: React.FC<FloatingDotProps> = ({ index }) => {
	return <div className="floating-dot-item" style={{ '--i': index } as React.CSSProperties} />;
};

const FloatingDotsAnimation: React.FC = () => {
	// åˆ›å»º21ä¸ªç‚¹
	const dots = Array.from({ length: 21 }, (_, index) => <FloatingDot key={index} index={index} />);

	return (
		<div className="floating-dots-container">
			<div className="floating-dots-wrapper">
				<div className="floating-dots-container-inner">{dots}</div>
			</div>
		</div>
	);
};

export default FloatingDotsAnimation;
```

### CSS åŠ¨ç”»å®ç°

```scss
.floating-dots-container {
	width: 500px;
	margin: 0 auto;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 400px;
	background: #212121;

	.floating-dots-wrapper {
		position: relative;
		width: 100%;
		height: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.floating-dots-container-inner {
		position: absolute;
		top: 40%;
		height: 90%;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.floating-dot-item {
		position: absolute;
		background-color: transparent;
		width: calc(var(--i) * 2.5vmin);
		aspect-ratio: 1;
		border-radius: 50%;
		border: 0.9vmin solid rgb(0, 200, 255);
		transform-style: preserve-3d;
		transform: rotateX(70deg) translateZ(50px);
		animation: my-move 3s ease-in-out calc(var(--i) * 0.08s) infinite;
		box-shadow: 0px 0px 15px rgb(124, 124, 124), inset 0px 0px 15px rgb(124, 124, 124);
	}

	@keyframes my-move {
		0%,
		100% {
			transform: rotateX(70deg) translateZ(50px) translateY(0px);
			filter: hue-rotate(0deg);
		}

		50% {
			transform: rotateX(70deg) translateZ(50px) translateY(-50vmin);
			filter: hue-rotate(180deg);
		}
	}
}
```

## ğŸ¨ è®¾è®¡è¦ç‚¹

### 1. 3D è½¬æ¢æ•ˆæœ

- ä½¿ç”¨ `transform-style: preserve-3d` ä¿æŒ 3D è½¬æ¢æ•ˆæœ
- é€šè¿‡ `rotateX(70deg)` åˆ›å»ºé€è§†è§’åº¦
- ç»“åˆ `translateZ(50px)` å¢åŠ ç«‹ä½“æ„Ÿ

### 2. åŠ¨ç”»å®ç°

- ä½¿ç”¨ `@keyframes` å®šä¹‰å…³é”®å¸§åŠ¨ç”»
- é€šè¿‡ `calc(var(--i) * 0.08s)` ä¸ºæ¯ä¸ªç‚¹è®¾ç½®ä¸åŒçš„åŠ¨ç”»å»¶è¿Ÿ
- ç»“åˆ `hue-rotate` å®ç°è‰²ç›¸å˜åŒ–æ•ˆæœ

### 3. è§†è§‰æ•ˆæœ

- ä½¿ç”¨ `box-shadow` åˆ›å»ºå†…å¤–é˜´å½±æ•ˆæœ
- é€šè¿‡ `aspect-ratio: 1` ä¿æŒæ­£æ–¹å½¢æ¯”ä¾‹
- ä½¿ç”¨ `border-radius: 50%` åˆ›å»ºåœ†å½¢æ•ˆæœ

## ğŸ¯ åº”ç”¨åœºæ™¯

### 1. èƒŒæ™¯è£…é¥°

- **ç½‘ç«™èƒŒæ™¯**: ä½œä¸ºåŠ¨æ€èƒŒæ™¯å¢å¼ºè§†è§‰æ•ˆæœ
- **ç™»å½•é¡µé¢**: åˆ›å»ºå¸å¼•äººçš„ç™»å½•ç•Œé¢
- **äº§å“å±•ç¤º**: ä¸ºäº§å“é¡µé¢æ·»åŠ åŠ¨æ€å…ƒç´ 

### 2. åŠ è½½åŠ¨ç”»

- **é¡µé¢åŠ è½½**: æ›¿ä»£ä¼ ç»Ÿçš„åŠ è½½æŒ‡ç¤ºå™¨
- **æ•°æ®åŠ è½½**: åœ¨æ•°æ®è·å–æ—¶æä¾›è§†è§‰åé¦ˆ
- **è½¬åœºåŠ¨ç”»**: é¡µé¢åˆ‡æ¢æ—¶çš„è¿‡æ¸¡æ•ˆæœ

### 3. UI å¢å¼º

- **æŒ‰é’®æ•ˆæœ**: ä¸ºæŒ‰é’®æ·»åŠ æ‚¬åœåŠ¨ç”»
- **å¡ç‰‡ç»„ä»¶**: å¢å¼ºå¡ç‰‡çš„è§†è§‰å¸å¼•åŠ›
- **å¯¼èˆªèœå•**: åˆ›å»ºåŠ¨æ€å¯¼èˆªæ•ˆæœ

## ğŸ”§ æŠ€æœ¯è¦ç‚¹

### 1. CSS å˜é‡ä½¿ç”¨

```scss
// ä½¿ç”¨ CSS å˜é‡æ§åˆ¶æ¯ä¸ªç‚¹çš„æ ·å¼
.floating-dot-item {
	width: calc(var(--i) * 2.5vmin);
	animation: my-move 3s ease-in-out calc(var(--i) * 0.08s) infinite;
}
```

### 2. 3D è½¬æ¢æŠ€å·§

```scss
// åˆ›å»º 3D æ•ˆæœçš„å…³é”®å±æ€§
.transform-element {
	transform-style: preserve-3d;
	transform: rotateX(70deg) translateZ(50px);
}
```

### 3. åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–

```scss
// ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿä¼˜åŒ–åŠ¨ç”»æ€§èƒ½
.animated-element {
	will-change: transform, filter;
	transform: translateZ(0); // è§¦å‘ç¡¬ä»¶åŠ é€Ÿ
}
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

ä¸åŒå®ç°æ–¹æ¡ˆçš„æ€§èƒ½å¯¹æ¯”ï¼š

```mermaid
graph LR
    A[å®ç°æ–¹æ¡ˆ] --> B[CSSåŠ¨ç”»]
    A --> C[JavaScriptåŠ¨ç”»]
    A --> D[CanvasåŠ¨ç”»]

    B --> B1[æ€§èƒ½: é«˜]
    B --> B2[å¤æ‚åº¦: ä½]
    B --> B3[å…¼å®¹æ€§: é«˜]

    C --> C1[æ€§èƒ½: ä¸­]
    C --> C2[å¤æ‚åº¦: ä¸­]
    C --> C3[å…¼å®¹æ€§: é«˜]

    D --> D1[æ€§èƒ½: é«˜]
    D --> D2[å¤æ‚åº¦: é«˜]
    D --> D3[å…¼å®¹æ€§: ä¸­]
```

## ğŸ”’ å®‰å…¨ä¸ç»´æŠ¤

### 1. ä»£ç ç»´æŠ¤

- ä½¿ç”¨ SCSS å˜é‡ç®¡ç†æ ·å¼å‚æ•°
- ä¿æŒä»£ç ç»“æ„æ¸…æ™°
- æ·»åŠ è¯¦ç»†çš„æ³¨é‡Šè¯´æ˜

### 2. æ€§èƒ½ç›‘æ§

- ç›‘æ§åŠ¨ç”»å¯¹é¡µé¢æ€§èƒ½çš„å½±å“
- é¿å…è¿‡åº¦ä½¿ç”¨å¤æ‚åŠ¨ç”»
- åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•æ€§èƒ½è¡¨ç°

---

_åŠ¨æ€åœ†å½¢ç‚¹åŠ¨ç”»æ•ˆæœä¸ºç½‘é¡µå¢æ·»äº†ç°ä»£æ„Ÿå’ŒåŠ¨æ€ç¾ï¼Œåˆç†è¿ç”¨å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ç•Œé¢çš„è§†è§‰å¸å¼•åŠ›ã€‚_
